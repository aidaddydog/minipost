/* 壳层组件样式（无 :root；主题变量来自 _themes/<theme>/root.css） */
html, body { height: 100%; }
body.nav-shell {
  margin: 0;
  background: var(--page-bg, #ffffff);
  color: var(--text, #0f172a);
  font-family: var(--font-family, system-ui, -apple-system, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif);
  font-size: var(--font-size-base, 10px);
  line-height: var(--line-height-base, 1.6);
}

/* 布局 */
.shell { max-width: var(--maxw, 100%); margin: 0 auto; padding: var(--page-pt, 20px) var(--page-px, 50px) var(--page-pb, 2px); }
.header, .subrow, .tabrow { background: var(--page-bg, #fff); }
.header { display: flex; align-items: center; margin: var(--header-mt, 0) 0 var(--header-mb, 0); }
.logo {
  display: block; width: var(--logo-w, 30px); height: var(--logo-h, 30px);
  border-radius: var(--logo-radius, 12px); background: var(--logo-bg, #e7e7e9);
  box-shadow: 0 1px 2px rgba(0,0,0,.12); flex: 0 0 auto; text-decoration: none; margin-left: var(--logo-ml, 15px);
}
.header-gap-left { width: var(--gap, 25px); } .header-gap-right { flex: 1; }
.avatar {
  width: var(--avatar-size, 30px); height: var(--avatar-size, 30px);
  border-radius: var(--avatar-radius, 50%); background: var(--avatar-bg, #fff);
  margin-left: var(--gap, 25px); margin-right: var(--avatar-mr, 15px);
  flex: 0 0 auto; border: var(--avatar-border-width, 1px) solid var(--avatar-border-color, #e7e7e9);
}

/* 一级轨道 */
.nav-rail{
  position: relative; flex: 0 0 var(--nav-w, 50.666%); width: var(--nav-w, 50.666%);
  background: var(--rail-bg, #f6f6f6); border: var(--rail-border-width, 0px) solid var(--rail-border-color, rgba(0,0,0,.06));
  border-radius: var(--rail-radius, 999px); box-shadow: var(--rail-shadow, 0 0 0 rgba(15,23,42,.06));
}
.track{ position: relative; display: flex; align-items: center; gap: var(--l1-gap, 1px); height: var(--l1-height, 35px); padding: 0 14px; overflow: visible; }
.pill{
  position: absolute; top: 50%; left: 0; transform: translate(0,-50%);
  height: var(--pill-height, 20px); border-radius: var(--pill-radius, 999px); background: var(--pill-bg, #ffdf5d);
  border: var(--pill-border-width, 0px) solid var(--pill-border-color, rgba(0,0,0,.10)); box-shadow: var(--pill-shadow, 0 0 0 rgba(0,0,0,0));
  transition: transform var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), width var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), opacity .18s ease;
  opacity: 0;
}
.link{
  position: relative; z-index: 1; padding: 0 var(--l1-item-px, 20px); height: var(--l1-height, 35px);
  display: flex; align-items: center; justify-content: center; font-size: var(--l1-font-size, 10px);
  color: var(--l1-color, #151515); text-decoration: none; white-space: nowrap; border-radius: 10px; user-select: none;
}
.link:hover{ color: var(--l1-hover, #0f172a); }
.link.active{ color: var(--l1-active, #111827); font-weight: 600; }

/* 二级整行 */
.subrow{ position: relative; width: 100%; background: transparent; margin-top: var(--sub-top-gap, 0); }
.subrow::before{ content:""; position: absolute; inset: 0; left: 50%; transform: translateX(-50%); width: 100vw; background: var(--sub-row-bg, transparent); z-index: -1; }
.subrow-inner{ max-width: var(--maxw, 100%); margin: 0 auto; padding: 0 var(--page-px, 50px); display: flex; align-items: center; }
.subbar-offset{ width: calc(var(--logo-w, 30px) + var(--gap, 25px)); }
.subbar{ flex: 0 0 var(--nav-w, 50.666%); width: var(--nav-w, 50.666%); }
.sub-inner{ display: flex; flex-wrap: wrap; align-items: center; gap: var(--l2-gap, 14px); }
.sub{
  font-size: var(--l2-font-size, 9px); color: var(--l2-color, #334155); text-decoration: none;
  padding: var(--l2-item-py, 6px) var(--l2-item-px, 4px); border-radius: var(--l2-item-radius, 8px); line-height: 1.2;
  margin: var(--l2-item-my, 5px) 0;
}
.sub:hover,.sub.active{ color: var(--l2-hover, #ea580c); }

/* 三级页签 & 卡片 */
.tabrow{ margin-top: 12px; }
.tabrow-inner{ max-width: var(--maxw, 100%); margin: 0 auto; padding: 0 var(--page-px, 50px); display: flex; }
.tab-offset{ width: var(--tab-offset-left, calc(var(--logo-w, 30px) + var(--gap, 25px))); }
.tab-wrap{ flex: 0 0 var(--tab-w, 100%); width: var(--tab-w, 100%); }
.tabs{ display: flex; gap: var(--tab-gap, 0); padding-left: 20px; position: relative; z-index: 2; }
.tab{
  display: inline-flex; align-items: center; justify-content: center; font-size: var(--tab-font-size, 8px); color: var(--tab-color, #9f9f9f);
  background: var(--tab-inactive-bg, transparent); border: 1px solid var(--tab-border, transparent); border-bottom: none;
  padding: var(--tab-py, 3px) var(--tab-px, 0px); border-top-left-radius: var(--tab-radius, 10px); border-top-right-radius: var(--tab-radius, 10px);
  text-decoration: none; white-space: nowrap; height: calc(var(--tab-py, 3px) * 2 + 1.2em);
}
.tab:hover{ color: #0f172a; } .tab.active{ background: var(--tab-active-bg, transparent); color: var(--tab-color-active, #111827); position: relative; z-index: 3; }
.tab__text{ display: inline-block; margin-left: var(--tab-text-ml, 37px); }
.tab-ink{
  position: absolute; left: 0; top: calc(100% + var(--tab-ink-mt, -1px)); height: var(--tab-ink-height, 2px); width: 0;
  background: var(--tab-ink-color, #000); border-radius: var(--tab-ink-radius, 999px); transform: translateX(0);
  transition: transform var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), width var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1));
  z-index: 4; pointer-events: none; opacity: 1;
}
.tabcard{ background: var(--tabcard-bg, #f6f6f6); border: 1px solid var(--tab-border, transparent); border-radius: var(--tabcard-radius, 25px); box-shadow: var(--tabcard-shadow, 0 0 0 rgba(0,0,0,0)); padding: var(--tabcard-p, 16px); position: relative; z-index: 1; margin-top: -1px; }
.tabcard.no-tabs{ margin-top: 0; }
.tabpanel{ min-height: 80px; }

/* 自适应 */
@media (max-width:980px){ .track{ overflow: auto hidden; scroll-snap-type: x mandatory } .link{ scroll-snap-align: center } }
@media (max-width:600px){ .nav-rail{ flex: 1 1 auto; width: auto } .subbar{ flex: 1 1 auto; width: auto } .subbar-offset{ width: 0 } .tab-offset{ width: 0 } .tab-wrap{ flex: 1 1 auto; width: auto } }
