/* 壳层组件样式（无 :root；主题变量来自 _themes/<theme>/root.css） */
html, body { height: 100%; }
body.nav-shell {
  margin: 0;
  background: var(--page-bg, #ffffff);
  color: var(--text, #0f172a);
  font-family: var(--font-family, system-ui, -apple-system, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif);
  font-size: var(--font-size-base, 10px);
  line-height: var(--line-height-base, 1.6);
}

/* 布局 */
.shell { max-width: var(--maxw, 100%); margin: 0 auto; padding: var(--page-pt, 20px) var(--page-px, 50px) var(--page-pb, 2px); }
.header, .subrow, .tabrow { background: var(--page-bg, #fff); }
.header { display: flex; align-items: center; margin: var(--header-mt, 0) 0 var(--header-mb, 0); }
.logo {
  display: block; width: var(--logo-w, 30px); height: var(--logo-h, 30px);
  border-radius: var(--logo-radius, 12px); background: var(--logo-bg, #e7e7e9);
  box-shadow: 0 1px 2px rgba(0,0,0,.12); flex: 0 0 auto; text-decoration: none; margin-left: var(--logo-ml, 15px);
}
.header-gap-left { width: var(--gap, 25px); } .header-gap-right { flex: 1; }
.avatar {
  width: var(--avatar-size, 30px); height: var(--avatar-size, 30px);
  border-radius: var(--avatar-radius, 50%); background: var(--avatar-bg, #fff);
  margin-left: var(--gap, 25px); margin-right: var(--avatar-mr, 15px);
  flex: 0 0 auto; border: var(--avatar-border-width, 1px) solid var(--avatar-border-color, #e7e7e9);
}

/* 一级轨道 */
.nav-rail{
  position: relative; flex: 0 0 var(--nav-w, 50.666%); width: var(--nav-w, 50.666%);
  background: var(--rail-bg, #f6f6f6); border: var(--rail-border-width, 0px) solid var(--rail-border-color, rgba(0,0,0,.06));
  border-radius: var(--rail-radius, 999px); box-shadow: var(--rail-shadow, 0 0 0 rgba(15,23,42,.06));
}
.track{ position: relative; display: flex; align-items: center; gap: var(--l1-gap, 1px); height: var(--l1-height, 35px); padding: 0 14px; overflow: visible; }
.pill{
  position: absolute; top: 50%; left: 0; transform: translate(0,-50%);
  height: var(--pill-height, 20px); border-radius: var(--pill-radius, 999px); background: var(--pill-bg, #ffdf5d);
  border: var(--pill-border-width, 0px) solid var(--pill-border-color, rgba(0,0,0,.10)); box-shadow: var(--pill-shadow, 0 0 0 rgba(0,0,0,0));
  transition: transform var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), width var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), opacity .18s ease;
  opacity: 0;
}
.link{
  position: relative; z-index: 1; padding: 0 var(--l1-item-px, 20px); height: var(--l1-height, 35px);
  display: flex; align-items: center; justify-content: center; font-size: var(--l1-font-size, 10px);
  color: var(--l1-color, #151515); text-decoration: none; white-space: nowrap; border-radius: 10px; user-select: none;
}
.link:hover{ color: var(--l1-hover, #0f172a); }
.link.active{ color: var(--l1-active, #111827); font-weight: 600; }

/* 二级整行 */
.subrow{ position: relative; width: 100%; background: transparent; margin-top: var(--sub-top-gap, 0); }
.subrow::before{ content:""; position: absolute; inset: 0; left: 50%; transform: translateX(-50%); width: 100vw; background: var(--sub-row-bg, transparent); z-index: -1; }
.subrow-inner{ max-width: var(--maxw, 100%); margin: 0 auto; padding: 0 var(--page-px, 50px); display: flex; align-items: center; }
.subbar-offset{ width: calc(var(--logo-w, 30px) + var(--gap, 25px)); }
.subbar{ flex: 0 0 var(--nav-w, 50.666%); width: var(--nav-w, 50.666%); }
.sub-inner{ display: flex; flex-wrap: wrap; align-items: center; gap: var(--l2-gap, 14px); }
.sub{
  font-size: var(--l2-font-size, 9px); color: var(--l2-color, #334155); text-decoration: none;
  padding: var(--l2-item-py, 6px) var(--l2-item-px, 4px); border-radius: var(--l2-item-radius, 8px); line-height: 1.2;
  margin: var(--l2-item-my, 5px) 0;
}
.sub:hover,.sub.active{ color: var(--l2-hover, #ea580c); }

/* 三级页签 & 卡片 */
.tabrow{ margin-top: 12px; }
.tabrow-inner{ max-width: var(--maxw, 100%); margin: 0 auto; padding: 0 var(--page-px, 50px); display: flex; }
.tab-offset{ width: var(--tab-offset-left, calc(var(--logo-w, 30px) + var(--gap, 25px))); }
.tab-wrap{ flex: 0 0 var(--tab-w, 100%); width: var(--tab-w, 100%); }
.tabs{ display: flex; gap: var(--tab-gap, 0); padding-left: 20px; position: relative; z-index: 2; }
.tab{
  display: inline-flex; align-items: center; justify-content: center; font-size: var(--tab-font-size, 8px); color: var(--tab-color, #9f9f9f);
  background: var(--tab-inactive-bg, transparent); border: 1px solid var(--tab-border, transparent); border-bottom: none;
  padding: var(--tab-py, 3px) var(--tab-px, 0px); border-top-left-radius: var(--tab-radius, 10px); border-top-right-radius: var(--tab-radius, 10px);
  text-decoration: none; white-space: nowrap; height: calc(var(--tab-py, 3px) * 2 + 1.2em);
}
.tab:hover{ color: #0f172a; } .tab.active{ background: var(--tab-active-bg, transparent); color: var(--tab-color-active, #111827); position: relative; z-index: 3; }
.tab__text{ display: inline-block; margin-left: var(--tab-text-ml, 37px); }
.tab-ink{
  position: absolute; left: 0; top: calc(100% + var(--tab-ink-mt, -1px)); height: var(--tab-ink-height, 2px); width: 0;
  background: var(--tab-ink-color, #000); border-radius: var(--tab-ink-radius, 999px); transform: translateX(0);
  transition: transform var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1)), width var(--anim-speed, .25s) var(--anim-ease, cubic-bezier(.22,.61,.36,1));
  z-index: 4; pointer-events: none; opacity: 1;
}
.tabcard{ background: var(--tabcard-bg, #f6f6f6); border: 1px solid var(--tab-border, transparent); border-radius: var(--tabcard-radius, 25px); box-shadow: var(--tabcard-shadow, 0 0 0 rgba(0,0,0,0)); padding: var(--tabcard-p, 16px); position: relative; z-index: 1; margin-top: -1px; }
.tabcard.no-tabs{ margin-top: 0; }
.tabpanel{ min-height: 80px; }

/* 自适应 */
@media (max-width:980px){ .track{ overflow: auto hidden; scroll-snap-type: x mandatory } .link{ scroll-snap-align: center } }
@media (max-width:600px){ .nav-rail{ flex: 1 1 auto; width: auto } .subbar{ flex: 1 1 auto; width: auto } .subbar-offset{ width: 0 } .tab-offset{ width: 0 } .tab-wrap{ flex: 1 1 auto; width: auto } }

/* L3 内容内嵌框 */
.tabpanel__frame{ width:100%; min-height: calc(100vh - var(--tab-frame-offset, 240px)); border:0; background:#fff; display:block; }


/* ====== L3 过滤卡片、控件、表格与底栏（源自 demo，去掉 :root，仅使用 var() 带兜底） ====== */
.toolbar{
  background: var(--filter-card-bg, #f6f6f6); border-radius: var(--filter-card-radius, 25px);
  padding: var(--filter-card-py, 14px) var(--filter-card-px, 14px);
  margin: var(--filter-card-mt, 0) 0 var(--filter-card-mb, 0);
  display:flex; flex-wrap:wrap; gap:12px; align-items:center;
  font-family: var(--filter-card-font-family, var(--font-family, system-ui)); font-size: var(--filter-card-font-size, 12px); line-height: var(--filter-card-line-height, 1.6);
}
.toolbar-left{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; }
.toolbar-actions{ margin-left:auto; display:flex; align-items:center; gap:12px; }

.btn{ height: var(--btn-h, 28px); min-width: var(--btn-minw, 50px); border-radius: var(--btn-radius, 999px);
  border: var(--btn-border-width, 1px) solid var(--ctl-border, #d1d5db); background: var(--ctl-bg, #fff);
  color: var(--ctl-ink, #111827); padding: 0 var(--btn-px, 16px); display:inline-flex; align-items:center; gap: var(--btn-gap, 8px);
  cursor:pointer; text-decoration:none; user-select:none; font-size: var(--btn-font-size, 12px); }
.btn--black{ background: var(--btn-black-bg, #0a0a0a); color: var(--btn-black-ink, #fff); border-color: var(--btn-black-bg, #0a0a0a) }
.btn .caret{ font-size: var(--caret-size, 12px); opacity:.8 }

.input{ height: var(--input-h, 28px); min-width: var(--input-minw, 60px); width: var(--input-w, 60px);
  border-radius: var(--input-radius, 999px); border: var(--input-border-width, 1px) solid var(--ctl-border, #d1d5db);
  background: var(--ctl-bg, #fff); color: var(--ctl-ink, #111827); padding: 0 var(--ctl-px, 12px); font-size: var(--ctl-font-size, 12px); }
.input::placeholder{ color: var(--ctl-placeholder, #9ca3af) }
.input--search{ width: var(--input-search-w, 160px) }
.input--dt{ width: var(--input-datetime-w, 140px); cursor:pointer; }

.select{ height: var(--select-h, 28px); min-width: var(--select-minw, 60px); width: var(--select-w, auto);
  border-radius: var(--select-radius, 999px); border: var(--select-border-width, 1px) solid var(--ctl-border, #d1d5db);
  background: var(--ctl-bg, #fff); color: var(--ctl-ink, #111827); padding: 0 var(--ctl-px, 12px); font-size: var(--ctl-font-size, 12px); position:relative; z-index:2; }

/* 下拉菜单（通用） */
.dropdown{ position:relative; }
.menu{ position:absolute; top:calc(100% + 6px); left:0; background:#fff;
  border: var(--menu-border-width, 1px) solid var(--menu-border-color, #e5e7eb);
  border-radius: var(--menu-radius, 12px); box-shadow: var(--menu-shadow, 0 10px 30px rgba(0,0,0,.08));
  min-width: var(--menu-minw, 160px); max-height: var(--menu-maxh, 280px); overflow:auto; display:none; z-index:300; }
.dropdown.open .menu{ display:block; }
.menu a{ display:block; height: var(--menu-item-h, 36px); line-height: var(--menu-item-h, 36px); padding: 0 var(--menu-item-px, 12px); color:#111827; text-decoration:none; font-size: var(--menu-font-size, 12px); }
.menu a:hover{ background:#f9fafb }
.menu a[aria-selected="true"]{ background:#f3f4f6; font-weight:600; }

/* 表格容器/表格 */
.table-wrap{ margin: var(--table-wrap-mt, 12px) 0 var(--table-wrap-mb, 60px); background: var(--table-wrap-bg, transparent); border-radius: var(--table-wrap-radius, 8px); }
.table-scroll{ max-height: var(--table-max-h, 100%); overflow-y:auto; overflow-x:hidden; padding-right:8px; }
.table{ width:100%; border-collapse:collapse; border-spacing:0; background:transparent; font-family: var(--table-font-family, var(--font-family, system-ui)); }
.table th, .table td{ padding:12px 10px; text-align:left; color: var(--table-ink, #111827); font-size: var(--table-font-size, 12px);
  border-bottom:1px solid var(--table-line, #e5e7eb); background: var(--table-row-bg, #fff); transition: background .15s ease; }
.table thead th{ color: var(--table-head-ink, #6b7280); font-weight:500; background: var(--table-head-bg, var(--page-bg, #fff));
  position:sticky; top: var(--table-head-sticky-top, 0px); z-index:1; box-shadow: var(--table-head-shadow, 0 1px 0 var(--table-line, #e5e7eb)); white-space:nowrap; }
.table tr:hover td{ background: var(--table-row-hover, #fafafa) }
.table tr.selected td{ background: var(--table-row-selected, #ffffff) }

/* 复选框与链接形态按钮 */
.chk{ appearance:none; min-width:10px; min-height:10px; width:10px; height:10px; border-radius:4px; border:3px solid #e7e7e9; background:#fff; vertical-align:middle; cursor:pointer; display:inline-block; }
.chk:indeterminate{ position:relative; background:#fff; border-color:#111827; }
.chk:indeterminate::after{ content:""; position:absolute; left:50%; top:50%; width:10px; height:2px; background:#111827; transform:translate(-50%,-50%); border-radius:2px; }
.chk:checked{ background:#111827; border-color:#111827; box-shadow: inset 0 0 0 3px #fff; }
.btn-link{ appearance:none; border:none; background:none; padding:0; margin-right:8px; cursor:pointer; color:#111827; font:inherit; text-decoration:none; }
.btn-link:hover{ text-decoration:underline }

/* 列宽（列表页） */
.table .col-chk{ width:36px } .table .col-order{ width:160px } .table .col-waybill{ width:200px } .table .col-trans{ width:140px }
.table .col-ship{ width:110px } .table .col-file{ width:160px } .table .col-status{ width:110px } .table .col-created{ width:160px } .table .col-op{ width:140px }

/* 固定底栏 */
.footer-bar{ position:fixed; transform:translateX(-50%); left:50%; bottom: var(--footer-bottom, 10px);
  width: calc(100% - 150px); max-width: var(--maxw, 100%); background: var(--footer-bg, #f6f6f6); color: var(--footer-ink, #111827);
  border-radius: var(--footer-radius, 25px); box-shadow: var(--footer-shadow, 0 0 0 rgba(0,0,0,0));
  padding: var(--footer-py, 10px) var(--footer-px, 30px); z-index:99; font-family: var(--footer-font-family, var(--font-family, system-ui)); font-size: var(--footer-font-size, 12px); }
.footer-bar .inner{ display:flex; align-items:center; gap: var(--footer-gap, 12px); flex-wrap:wrap }
.footer-bar .size{ height: var(--footer-ctl-h, 28px); border-radius:999px; border: var(--footer-ctl-border-width, 0px) solid #d1d5db; background:#fff; padding:0 10px }

/* 自定义选择框（.menu 风格） */
.cselect{ position:relative; display:inline-block; }
.cselect .cs-toggle{ height: var(--select-h, 28px); min-width: var(--select-minw, 60px);
  border-radius: var(--select-radius, 999px); border: var(--select-border-width, 1px) solid var(--ctl-border, #d1d5db);
  background: var(--ctl-bg, #fff); color: var(--ctl-ink, #111827); padding: 0 var(--ctl-px, 12px);
  font-size: var(--ctl-font-size, 12px); display:inline-flex; align-items:center; gap:8px; user-select:none; cursor:pointer; }
.cselect .menu{ left:0; } .cselect.open .menu{ display:block; }
.cselect .sr-select{ position:absolute; inset:0; width:0; height:0; opacity:0; pointer-events:none; }
.cselect.dropup .menu{ top:auto; bottom:calc(100% + 6px); }

/* 列头排序按钮 */
.sort-btn{ border:0; background:none; cursor:pointer; padding:0 4px; font-size:11px; line-height:1; vertical-align:middle; }
.sort-btn .ind{ display:inline-block; transform:translateY(-1px); }

/* 杂项 */
.hidden{ display:none }
.flex-1{ flex:1 }
.link-top{ text-decoration:none; color:#111827; }
.link-top:hover{ text-decoration:underline }

/* 小屏适配：底栏宽度 */
@media (max-width:600px){ .footer-bar{ width: calc(100vw - 24px) } }
