<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>minipost 管理后台</title>

  <link rel="stylesheet" href="/static/nav/nav_shell.css" />
{% block extra_head %}{% endblock %}
</head>
<body>
  <div class="shell">
    <!-- 顶部：Logo / 导航卡片 / 头像 -->
    <div class="header">
      <a class="logo" href="/admin" aria-label="仪表盘"></a>
      <div class="header-gap-left" aria-hidden="true"></div>

      <div class="nav-rail" id="navRail" role="navigation" aria-label="主导航（一级）">
        <div class="track" id="navTrack">
          <div class="pill" id="pill" aria-hidden="true"></div>
          <a class="link" data-path="/orders"    href="/orders">订单</a>
          <a class="link" data-path="/products"  href="/products">商品</a>
          <a class="link" data-path="/logistics" href="/logistics">物流</a>
          <a class="link" data-path="/settings"  href="/settings">设置</a>
        </div>
      </div>

      <div class="header-gap-right" aria-hidden="true"></div>
      <div class="avatar" aria-label="头像"></div>
    </div>
  </div>

  <!-- 二级整行 -->
  <div class="subrow" id="subRow" aria-label="次级导航整行">
    <div class="subrow-inner">
      <div class="subbar-offset" aria-hidden="true"></div>
      <div class="subbar"><div class="sub-inner" id="subInner"></div></div>
    </div>
  </div>

  <!-- 第三行：页签 + 卡片 + 表格 -->
  <div class="tabrow" id="tabRow" aria-label="三级页签卡片行">
    <div class="tabrow-inner">
      <div class="tab-offset" aria-hidden="true"></div>
      <div class="tab-wrap">
        <div class="tabs" id="tabs"></div>
        <div class="tabcard" id="tabCard">
          <div class="tabpanel" id="tabPanel">请选择二级菜单。</div>
        </div>

        <!-- 面单列表表格 -->
        <div class="table-wrap hidden" id="tableWrap">
          <div class="table-scroll">
            <table class="table" id="luTable">
              <thead>
                <tr>
                  <th class="col-chk"><input type="checkbox" class="chk" id="chkAll"></th>
                  <th class="col-order">订单号</th>
                  <th class="col-waybill">运单号</th>
                  <th class="col-trans">转单号</th>
                  <th class="col-ship">运输方式</th>
                  <th class="col-file">面单</th>
                  <th class="col-status" id="thStatus">状态
                    <button class="sort-btn" id="sortStatus" title="按状态排序" aria-label="按状态排序"><span class="ind">⇅</span></button>
                  </th>
                  <th class="col-created" id="thTime">时间
                    <button class="sort-btn" id="sortTime" title="按当前时间字段排序" aria-label="按时间排序"><span class="ind">⇅</span></button>
                  </th>
                  <th class="col-op">操作</th>
                </tr>
              </thead>
              <tbody id="luTbody"></tbody>
            </table>
          </div>
        </div>

        <!-- 上传记录表格（新增） -->
        <div class="table-wrap hidden" id="logsTableWrap">
          <div class="table-scroll">
            <table class="table" id="logsTable">
              <thead>
                <tr>
                  <th>时间</th>
                  <th>文件名</th>
                  <th>上传类型</th>
                  <th>总数</th>
                  <th>成功</th>
                  <th>失败</th>
                  <th>操作人</th>
                  <th>日志</th>
                </tr>
              </thead>
              <tbody id="logsTbody"></tbody>
            </table>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- 空白占位 -->
  <div class="shell"><div class="content"><h2> </h2><p> </p></div></div>

  <!-- 固定页底操作栏（列表/记录共用） -->
  <div class="footer-bar hidden" id="footerBar">
    <div class="inner">
      <a href="#" id="selAll">全选</a>
      <a href="#" id="selInvert">反选</a>
      <span id="selCounter" class="sel-counter">已选择 0 条</span>

      <label>每页
        <select id="pageSize" class="size">
          <option value="20">20 条</option>
          <option value="50" selected>50 条</option>
          <option value="100">100 条</option>
        </select>
      </label>

      <span id="pageInfo">共 0 条 0/0 页</span>

      <span class="pager">
        <a href="#" id="firstPage">&laquo;</a>
        <a href="#" id="prevPage">&lsaquo;</a>
        <span id="pageNums"></span>
        <a href="#" id="nextPage">&rsaquo;</a>
        <a href="#" id="lastPage">&raquo;</a>
      </span>

      <span>跳转 <input type="number" id="jumpTo" min="1" value="1"> 页</span>

      <span class="flex-1"></span>
      <a class="link-top" href="#" id="goTop">回到顶部 ↑</a>
    </div>
  </div>

  <!-- 批量单号粘贴弹窗 -->
  <div class="modal" id="bulkModal" role="dialog" aria-modal="true" aria-labelledby="bulkTitle">
    <div class="box" tabindex="-1">
      <h3 id="bulkTitle" style="margin:0 0 10px;">粘贴批量单号（空格/换行分隔）</h3>
      <textarea id="bulkText" placeholder="例如：OD202501010001&#10;1ZR0R186919389328&#10;TR000001 ..."></textarea>
      <div class="row">
        <button class="btn" id="bulkCancel">取消</button>
        <button class="btn btn--black" id="bulkApply">应用搜索</button>
      </div>
    </div>
  </div>

  <!-- 通用操作弹窗（也用于“上传记录”的日志查看与复制） -->
  <div class="modal" id="opModal" role="dialog" aria-modal="true" aria-labelledby="opTitle">
    <div class="box" tabindex="-1">
      <h3 id="opTitle" style="margin:0 0 10px;">操作</h3>
      <div id="opContent" style="min-height:80px;color:#374151;">这里显示对应操作的表单/说明（占位）</div>
      <div class="row">
        <button class="btn" id="opCancel">取消</button>
        <button class="btn btn--black" id="opConfirm">确认</button>
      </div>
    </div>
  </div>

  <script>window.MINIPOST_INIT = {{ MINIPOST_INIT_JSON | safe }};</script>
<script defer src="/static/nav/nav_shell.js"></script>
{% block extra_scripts %}{% endblock %}
</body>
</html>
