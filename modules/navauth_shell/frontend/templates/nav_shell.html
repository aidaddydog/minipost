<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>minipost · 导航壳</title>

  <!-- 主题 tokens：仅 :root 变量 -->
  <link rel="stylesheet" href="{{ url_for('modules_static', path='_themes/' + THEME_NAME + '/root.css') }}" />
  <!-- 壳层组件样式（禁止 :root） -->
  <link rel="stylesheet" href="{{ url_for('modules_static', path='navauth_shell/frontend/static/nav_shell.css') }}" />
</head>
<body class="nav-shell" data-use-real-nav="{{ 'true' if USE_REAL_NAV else 'false' }}">
  <div class="shell">
    <!-- 顶部：Logo / 一级轨道 / 头像 -->
    <div class="header">
      <a class="logo" href="/admin" aria-label="仪表盘"></a>
      <div class="header-gap-left" aria-hidden="true"></div>

      <div class="nav-rail" role="navigation" aria-label="主导航（一级）">
        <div class="track" id="navTrack">
          <div class="pill" id="pill" aria-hidden="true"></div>
          <!-- L1 链接由 nav_shell.js 渲染 -->
        </div>
      </div>

      <div class="header-gap-right" aria-hidden="true"></div>
      <div class="avatar" aria-label="头像"></div>
    </div>
  </div>

  <!-- 二级整行 -->
  <div class="subrow" id="subRow" aria-label="次级导航整行">
    <div class="subrow-inner">
      <div class="subbar-offset" aria-hidden="true"></div>
      <div class="subbar"><div class="sub-inner" id="subInner"></div></div>
    </div>
  </div>

  <!-- 第三行：页签 + 卡片（容器；不含业务内容） -->
  <div class="tabrow" id="tabRow" aria-label="三级页签卡片行">
    <div class="tabrow-inner">
      <div class="tab-offset" aria-hidden="true"></div>
      <div class="tab-wrap">
        <div class="tabs" id="tabs"></div>
        <div class="tabcard" id="tabCard">
          <div class="tabpanel" id="tabPanel">请选择二级菜单。</div>
        </div>
      </div>
    </div>
  </div>

  
  <!-- 壳层统一弹窗容器 -->
  <div id="shellModalRoot" class="shell-modal modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="shell-modal__backdrop" data-close="1" aria-hidden="true"></div>
    <div class="shell-modal__dialog" role="document">
      <div class="shell-modal__header">
        <h3 id="shellModalTitle" class="shell-modal__title">—</h3>
        <button class="shell-modal__close" title="关闭" aria-label="关闭" data-close="1">×</button>
      </div>
      <div class="shell-modal__body">
        <iframe id="shellModalIframe" title="模块弹窗"></iframe>
      </div>
    </div>
  </div>


  <!-- 壳层交互脚本（渲染 L1/L2/L3；像素级动效） -->
  <script defer src="{{ url_for('modules_static', path='navauth_shell/frontend/static/nav_shell.js') }}"></script>
</body>
</html>
